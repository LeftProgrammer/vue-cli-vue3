define(["exports","./RuntimeError-8952249c","./defaultValue-81eec7ed","./Math-c2b1b304"],(function(n,t,e,r){"use strict";function u(n,t,r){this.x=e.defaultValue(n,0),this.y=e.defaultValue(t,0),this.z=e.defaultValue(r,0)}u.fromSpherical=function(n,t){e.defined(t)||(t=new u);const r=n.clock,a=n.cone,o=e.defaultValue(n.magnitude,1),i=o*Math.sin(a);return t.x=i*Math.cos(r),t.y=i*Math.sin(r),t.z=o*Math.cos(a),t},u.fromElements=function(n,t,r,a){return e.defined(a)?(a.x=n,a.y=t,a.z=r,a):new u(n,t,r)},u.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t.x=n.x,t.y=n.y,t.z=n.z,t):new u(n.x,n.y,n.z)},u.fromCartesian4=u.clone,u.packedLength=3,u.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n.x,t[r++]=n.y,t[r]=n.z,t},u.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new u),r.x=n[t++],r.y=n[t++],r.z=n[t],r},u.packArray=function(n,t){const r=n.length,a=3*r;e.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let e=0;e<r;++e)u.pack(n[e],t,3*e);return t},u.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/3:t=new Array(r/3);for(let e=0;e<r;e+=3){const r=e/3;t[r]=u.unpack(n,e,t[r])}return t},u.fromArray=u.unpack,u.maximumComponent=function(n){return Math.max(n.x,n.y,n.z)},u.minimumComponent=function(n){return Math.min(n.x,n.y,n.z)},u.minimumByComponent=function(n,t,e){return e.x=Math.min(n.x,t.x),e.y=Math.min(n.y,t.y),e.z=Math.min(n.z,t.z),e},u.maximumByComponent=function(n,t,e){return e.x=Math.max(n.x,t.x),e.y=Math.max(n.y,t.y),e.z=Math.max(n.z,t.z),e},u.clamp=function(n,t,e,u){const a=r.CesiumMath.clamp(n.x,t.x,e.x),o=r.CesiumMath.clamp(n.y,t.y,e.y),i=r.CesiumMath.clamp(n.z,t.z,e.z);return u.x=a,u.y=o,u.z=i,u},u.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y+n.z*n.z},u.magnitude=function(n){return Math.sqrt(u.magnitudeSquared(n))};const a=new u;u.distance=function(n,t){return u.subtract(n,t,a),u.magnitude(a)},u.distanceSquared=function(n,t){return u.subtract(n,t,a),u.magnitudeSquared(a)},u.normalize=function(n,t){const e=u.magnitude(n);return t.x=n.x/e,t.y=n.y/e,t.z=n.z/e,t},u.dot=function(n,t){return n.x*t.x+n.y*t.y+n.z*t.z},u.multiplyComponents=function(n,t,e){return e.x=n.x*t.x,e.y=n.y*t.y,e.z=n.z*t.z,e},u.divideComponents=function(n,t,e){return e.x=n.x/t.x,e.y=n.y/t.y,e.z=n.z/t.z,e},u.add=function(n,t,e){return e.x=n.x+t.x,e.y=n.y+t.y,e.z=n.z+t.z,e},u.subtract=function(n,t,e){return e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z,e},u.multiplyByScalar=function(n,t,e){return e.x=n.x*t,e.y=n.y*t,e.z=n.z*t,e},u.divideByScalar=function(n,t,e){return e.x=n.x/t,e.y=n.y/t,e.z=n.z/t,e},u.negate=function(n,t){return t.x=-n.x,t.y=-n.y,t.z=-n.z,t},u.abs=function(n,t){return t.x=Math.abs(n.x),t.y=Math.abs(n.y),t.z=Math.abs(n.z),t};const o=new u;u.lerp=function(n,t,e,r){return u.multiplyByScalar(t,e,o),r=u.multiplyByScalar(n,1-e,r),u.add(o,r,r)};const i=new u,c=new u;u.angleBetween=function(n,t){u.normalize(n,i),u.normalize(t,c);const e=u.dot(i,c),r=u.magnitude(u.cross(i,c,i));return Math.atan2(r,e)};const s=new u;u.mostOrthogonalAxis=function(n,t){const e=u.normalize(n,s);return u.abs(e,e),t=e.x<=e.y?e.x<=e.z?u.clone(u.UNIT_X,t):u.clone(u.UNIT_Z,t):e.y<=e.z?u.clone(u.UNIT_Y,t):u.clone(u.UNIT_Z,t)},u.projectVector=function(n,t,e){const r=u.dot(n,t)/u.dot(t,t);return u.multiplyByScalar(t,r,e)},u.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n.x===t.x&&n.y===t.y&&n.z===t.z},u.equalsArray=function(n,t,e){return n.x===t[e]&&n.y===t[e+1]&&n.z===t[e+2]},u.equalsEpsilon=function(n,t,u,a){return n===t||e.defined(n)&&e.defined(t)&&r.CesiumMath.equalsEpsilon(n.x,t.x,u,a)&&r.CesiumMath.equalsEpsilon(n.y,t.y,u,a)&&r.CesiumMath.equalsEpsilon(n.z,t.z,u,a)},u.cross=function(n,t,e){const r=n.x,u=n.y,a=n.z,o=t.x,i=t.y,c=t.z,s=u*c-a*i,l=a*o-r*c,f=r*i-u*o;return e.x=s,e.y=l,e.z=f,e},u.midpoint=function(n,t,e){return e.x=.5*(n.x+t.x),e.y=.5*(n.y+t.y),e.z=.5*(n.z+t.z),e},u.fromDegrees=function(n,t,e,a,o){return n=r.CesiumMath.toRadians(n),t=r.CesiumMath.toRadians(t),u.fromRadians(n,t,e,a,o)};let l=new u,f=new u;const y=new u(40680631590769,40680631590769,40408299984661.445);function d(n,t,r,u){this.x=e.defaultValue(n,0),this.y=e.defaultValue(t,0),this.z=e.defaultValue(r,0),this.w=e.defaultValue(u,0)}u.fromRadians=function(n,t,r,a,o){r=e.defaultValue(r,0);const i=e.defined(a)?a.radiiSquared:y,c=Math.cos(t);l.x=c*Math.cos(n),l.y=c*Math.sin(n),l.z=Math.sin(t),l=u.normalize(l,l),u.multiplyComponents(i,l,f);const s=Math.sqrt(u.dot(l,f));return f=u.divideByScalar(f,s,f),l=u.multiplyByScalar(l,r,l),e.defined(o)||(o=new u),u.add(f,l,o)},u.fromDegreesArray=function(n,t,r){const a=n.length;e.defined(r)?r.length=a/2:r=new Array(a/2);for(let e=0;e<a;e+=2){const a=n[e],o=n[e+1],i=e/2;r[i]=u.fromDegrees(a,o,0,t,r[i])}return r},u.fromRadiansArray=function(n,t,r){const a=n.length;e.defined(r)?r.length=a/2:r=new Array(a/2);for(let e=0;e<a;e+=2){const a=n[e],o=n[e+1],i=e/2;r[i]=u.fromRadians(a,o,0,t,r[i])}return r},u.fromDegreesArrayHeights=function(n,t,r){const a=n.length;e.defined(r)?r.length=a/3:r=new Array(a/3);for(let e=0;e<a;e+=3){const a=n[e],o=n[e+1],i=n[e+2],c=e/3;r[c]=u.fromDegrees(a,o,i,t,r[c])}return r},u.fromRadiansArrayHeights=function(n,t,r){const a=n.length;e.defined(r)?r.length=a/3:r=new Array(a/3);for(let e=0;e<a;e+=3){const a=n[e],o=n[e+1],i=n[e+2],c=e/3;r[c]=u.fromRadians(a,o,i,t,r[c])}return r},u.ZERO=Object.freeze(new u(0,0,0)),u.ONE=Object.freeze(new u(1,1,1)),u.UNIT_X=Object.freeze(new u(1,0,0)),u.UNIT_Y=Object.freeze(new u(0,1,0)),u.UNIT_Z=Object.freeze(new u(0,0,1)),u.prototype.clone=function(n){return u.clone(this,n)},u.prototype.equals=function(n){return u.equals(this,n)},u.prototype.equalsEpsilon=function(n,t,e){return u.equalsEpsilon(this,n,t,e)},u.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`},d.fromElements=function(n,t,r,u,a){return e.defined(a)?(a.x=n,a.y=t,a.z=r,a.w=u,a):new d(n,t,r,u)},d.fromColor=function(n,t){return e.defined(t)?(t.x=n.red,t.y=n.green,t.z=n.blue,t.w=n.alpha,t):new d(n.red,n.green,n.blue,n.alpha)},d.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t.x=n.x,t.y=n.y,t.z=n.z,t.w=n.w,t):new d(n.x,n.y,n.z,n.w)},d.packedLength=4,d.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n.x,t[r++]=n.y,t[r++]=n.z,t[r]=n.w,t},d.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new d),r.x=n[t++],r.y=n[t++],r.z=n[t++],r.w=n[t],r},d.packArray=function(n,t){const r=n.length,u=4*r;e.defined(t)?(Array.isArray(t)||t.length===u)&&t.length!==u&&(t.length=u):t=new Array(u);for(let e=0;e<r;++e)d.pack(n[e],t,4*e);return t},d.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/4:t=new Array(r/4);for(let e=0;e<r;e+=4){const r=e/4;t[r]=d.unpack(n,e,t[r])}return t},d.fromArray=d.unpack,d.maximumComponent=function(n){return Math.max(n.x,n.y,n.z,n.w)},d.minimumComponent=function(n){return Math.min(n.x,n.y,n.z,n.w)},d.minimumByComponent=function(n,t,e){return e.x=Math.min(n.x,t.x),e.y=Math.min(n.y,t.y),e.z=Math.min(n.z,t.z),e.w=Math.min(n.w,t.w),e},d.maximumByComponent=function(n,t,e){return e.x=Math.max(n.x,t.x),e.y=Math.max(n.y,t.y),e.z=Math.max(n.z,t.z),e.w=Math.max(n.w,t.w),e},d.clamp=function(n,t,e,u){const a=r.CesiumMath.clamp(n.x,t.x,e.x),o=r.CesiumMath.clamp(n.y,t.y,e.y),i=r.CesiumMath.clamp(n.z,t.z,e.z),c=r.CesiumMath.clamp(n.w,t.w,e.w);return u.x=a,u.y=o,u.z=i,u.w=c,u},d.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y+n.z*n.z+n.w*n.w},d.magnitude=function(n){return Math.sqrt(d.magnitudeSquared(n))};const h=new d;d.distance=function(n,t){return d.subtract(n,t,h),d.magnitude(h)},d.distanceSquared=function(n,t){return d.subtract(n,t,h),d.magnitudeSquared(h)},d.normalize=function(n,t){const e=d.magnitude(n);return t.x=n.x/e,t.y=n.y/e,t.z=n.z/e,t.w=n.w/e,t},d.dot=function(n,t){return n.x*t.x+n.y*t.y+n.z*t.z+n.w*t.w},d.multiplyComponents=function(n,t,e){return e.x=n.x*t.x,e.y=n.y*t.y,e.z=n.z*t.z,e.w=n.w*t.w,e},d.divideComponents=function(n,t,e){return e.x=n.x/t.x,e.y=n.y/t.y,e.z=n.z/t.z,e.w=n.w/t.w,e},d.add=function(n,t,e){return e.x=n.x+t.x,e.y=n.y+t.y,e.z=n.z+t.z,e.w=n.w+t.w,e},d.subtract=function(n,t,e){return e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z,e.w=n.w-t.w,e},d.multiplyByScalar=function(n,t,e){return e.x=n.x*t,e.y=n.y*t,e.z=n.z*t,e.w=n.w*t,e},d.divideByScalar=function(n,t,e){return e.x=n.x/t,e.y=n.y/t,e.z=n.z/t,e.w=n.w/t,e},d.negate=function(n,t){return t.x=-n.x,t.y=-n.y,t.z=-n.z,t.w=-n.w,t},d.abs=function(n,t){return t.x=Math.abs(n.x),t.y=Math.abs(n.y),t.z=Math.abs(n.z),t.w=Math.abs(n.w),t};const m=new d;d.lerp=function(n,t,e,r){return d.multiplyByScalar(t,e,m),r=d.multiplyByScalar(n,1-e,r),d.add(m,r,r)};const x=new d;d.mostOrthogonalAxis=function(n,t){const e=d.normalize(n,x);return d.abs(e,e),t=e.x<=e.y?e.x<=e.z?e.x<=e.w?d.clone(d.UNIT_X,t):d.clone(d.UNIT_W,t):e.z<=e.w?d.clone(d.UNIT_Z,t):d.clone(d.UNIT_W,t):e.y<=e.z?e.y<=e.w?d.clone(d.UNIT_Y,t):d.clone(d.UNIT_W,t):e.z<=e.w?d.clone(d.UNIT_Z,t):d.clone(d.UNIT_W,t)},d.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n.x===t.x&&n.y===t.y&&n.z===t.z&&n.w===t.w},d.equalsArray=function(n,t,e){return n.x===t[e]&&n.y===t[e+1]&&n.z===t[e+2]&&n.w===t[e+3]},d.equalsEpsilon=function(n,t,u,a){return n===t||e.defined(n)&&e.defined(t)&&r.CesiumMath.equalsEpsilon(n.x,t.x,u,a)&&r.CesiumMath.equalsEpsilon(n.y,t.y,u,a)&&r.CesiumMath.equalsEpsilon(n.z,t.z,u,a)&&r.CesiumMath.equalsEpsilon(n.w,t.w,u,a)},d.ZERO=Object.freeze(new d(0,0,0,0)),d.ONE=Object.freeze(new d(1,1,1,1)),d.UNIT_X=Object.freeze(new d(1,0,0,0)),d.UNIT_Y=Object.freeze(new d(0,1,0,0)),d.UNIT_Z=Object.freeze(new d(0,0,1,0)),d.UNIT_W=Object.freeze(new d(0,0,0,1)),d.prototype.clone=function(n){return d.clone(this,n)},d.prototype.equals=function(n){return d.equals(this,n)},d.prototype.equalsEpsilon=function(n,t,e){return d.equalsEpsilon(this,n,t,e)},d.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const z=new Float32Array(1),w=new Uint8Array(z.buffer),p=new Uint32Array([287454020]),M=68===new Uint8Array(p.buffer)[0];function g(n,t,r,u,a,o,i,c,s){this[0]=e.defaultValue(n,0),this[1]=e.defaultValue(u,0),this[2]=e.defaultValue(i,0),this[3]=e.defaultValue(t,0),this[4]=e.defaultValue(a,0),this[5]=e.defaultValue(c,0),this[6]=e.defaultValue(r,0),this[7]=e.defaultValue(o,0),this[8]=e.defaultValue(s,0)}d.packFloat=function(n,t){return e.defined(t)||(t=new d),z[0]=n,M?(t.x=w[0],t.y=w[1],t.z=w[2],t.w=w[3]):(t.x=w[3],t.y=w[2],t.z=w[1],t.w=w[0]),t},d.unpackFloat=function(n){return M?(w[0]=n.x,w[1]=n.y,w[2]=n.z,w[3]=n.w):(w[0]=n.w,w[1]=n.z,w[2]=n.y,w[3]=n.x),z[0]},g.packedLength=9,g.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n[0],t[r++]=n[1],t[r++]=n[2],t[r++]=n[3],t[r++]=n[4],t[r++]=n[5],t[r++]=n[6],t[r++]=n[7],t[r++]=n[8],t},g.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new g),r[0]=n[t++],r[1]=n[t++],r[2]=n[t++],r[3]=n[t++],r[4]=n[t++],r[5]=n[t++],r[6]=n[t++],r[7]=n[t++],r[8]=n[t++],r},g.packArray=function(n,t){const r=n.length,u=9*r;e.defined(t)?(Array.isArray(t)||t.length===u)&&t.length!==u&&(t.length=u):t=new Array(u);for(let e=0;e<r;++e)g.pack(n[e],t,9*e);return t},g.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/9:t=new Array(r/9);for(let e=0;e<r;e+=9){const r=e/9;t[r]=g.unpack(n,e,t[r])}return t},g.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t):new g(n[0],n[3],n[6],n[1],n[4],n[7],n[2],n[5],n[8])},g.fromArray=g.unpack,g.fromColumnMajorArray=function(n,t){return g.clone(n,t)},g.fromRowMajorArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],t):new g(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},g.fromQuaternion=function(n,t){const r=n.x*n.x,u=n.x*n.y,a=n.x*n.z,o=n.x*n.w,i=n.y*n.y,c=n.y*n.z,s=n.y*n.w,l=n.z*n.z,f=n.z*n.w,y=n.w*n.w,d=r-i-l+y,h=2*(u-f),m=2*(a+s),x=2*(u+f),z=-r+i-l+y,w=2*(c-o),p=2*(a-s),M=2*(c+o),b=-r-i+l+y;return e.defined(t)?(t[0]=d,t[1]=x,t[2]=p,t[3]=h,t[4]=z,t[5]=M,t[6]=m,t[7]=w,t[8]=b,t):new g(d,h,m,x,z,w,p,M,b)},g.fromHeadingPitchRoll=function(n,t){const r=Math.cos(-n.pitch),u=Math.cos(-n.heading),a=Math.cos(n.roll),o=Math.sin(-n.pitch),i=Math.sin(-n.heading),c=Math.sin(n.roll),s=r*u,l=-a*i+c*o*u,f=c*i+a*o*u,y=r*i,d=a*u+c*o*i,h=-c*u+a*o*i,m=-o,x=c*r,z=a*r;return e.defined(t)?(t[0]=s,t[1]=y,t[2]=m,t[3]=l,t[4]=d,t[5]=x,t[6]=f,t[7]=h,t[8]=z,t):new g(s,l,f,y,d,h,m,x,z)},g.fromScale=function(n,t){return e.defined(t)?(t[0]=n.x,t[1]=0,t[2]=0,t[3]=0,t[4]=n.y,t[5]=0,t[6]=0,t[7]=0,t[8]=n.z,t):new g(n.x,0,0,0,n.y,0,0,0,n.z)},g.fromUniformScale=function(n,t){return e.defined(t)?(t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=n,t):new g(n,0,0,0,n,0,0,0,n)},g.fromCrossProduct=function(n,t){return e.defined(t)?(t[0]=0,t[1]=n.z,t[2]=-n.y,t[3]=-n.z,t[4]=0,t[5]=n.x,t[6]=n.y,t[7]=-n.x,t[8]=0,t):new g(0,-n.z,n.y,n.z,0,-n.x,-n.y,n.x,0)},g.fromRotationX=function(n,t){const r=Math.cos(n),u=Math.sin(n);return e.defined(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=r,t[5]=u,t[6]=0,t[7]=-u,t[8]=r,t):new g(1,0,0,0,r,-u,0,u,r)},g.fromRotationY=function(n,t){const r=Math.cos(n),u=Math.sin(n);return e.defined(t)?(t[0]=r,t[1]=0,t[2]=-u,t[3]=0,t[4]=1,t[5]=0,t[6]=u,t[7]=0,t[8]=r,t):new g(r,0,u,0,1,0,-u,0,r)},g.fromRotationZ=function(n,t){const r=Math.cos(n),u=Math.sin(n);return e.defined(t)?(t[0]=r,t[1]=u,t[2]=0,t[3]=-u,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new g(r,-u,0,u,r,0,0,0,1)},g.toArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]]},g.getElementIndex=function(n,t){return 3*n+t},g.getColumn=function(n,t,e){const r=3*t,u=n[r],a=n[r+1],o=n[r+2];return e.x=u,e.y=a,e.z=o,e},g.setColumn=function(n,t,e,r){const u=3*t;return(r=g.clone(n,r))[u]=e.x,r[u+1]=e.y,r[u+2]=e.z,r},g.getRow=function(n,t,e){const r=n[t],u=n[t+3],a=n[t+6];return e.x=r,e.y=u,e.z=a,e},g.setRow=function(n,t,e,r){return(r=g.clone(n,r))[t]=e.x,r[t+3]=e.y,r[t+6]=e.z,r};const b=new u;g.setScale=function(n,t,e){const r=g.getScale(n,b),u=t.x/r.x,a=t.y/r.y,o=t.z/r.z;return e[0]=n[0]*u,e[1]=n[1]*u,e[2]=n[2]*u,e[3]=n[3]*a,e[4]=n[4]*a,e[5]=n[5]*a,e[6]=n[6]*o,e[7]=n[7]*o,e[8]=n[8]*o,e};const O=new u;g.setUniformScale=function(n,t,e){const r=g.getScale(n,O),u=t/r.x,a=t/r.y,o=t/r.z;return e[0]=n[0]*u,e[1]=n[1]*u,e[2]=n[2]*u,e[3]=n[3]*a,e[4]=n[4]*a,e[5]=n[5]*a,e[6]=n[6]*o,e[7]=n[7]*o,e[8]=n[8]*o,e};const C=new u;g.getScale=function(n,t){return t.x=u.magnitude(u.fromElements(n[0],n[1],n[2],C)),t.y=u.magnitude(u.fromElements(n[3],n[4],n[5],C)),t.z=u.magnitude(u.fromElements(n[6],n[7],n[8],C)),t};const E=new u;g.getMaximumScale=function(n){return g.getScale(n,E),u.maximumComponent(E)};const R=new u;g.setRotation=function(n,t,e){const r=g.getScale(n,R);return e[0]=t[0]*r.x,e[1]=t[1]*r.x,e[2]=t[2]*r.x,e[3]=t[3]*r.y,e[4]=t[4]*r.y,e[5]=t[5]*r.y,e[6]=t[6]*r.z,e[7]=t[7]*r.z,e[8]=t[8]*r.z,e};const S=new u;g.getRotation=function(n,t){const e=g.getScale(n,S);return t[0]=n[0]/e.x,t[1]=n[1]/e.x,t[2]=n[2]/e.x,t[3]=n[3]/e.y,t[4]=n[4]/e.y,t[5]=n[5]/e.y,t[6]=n[6]/e.z,t[7]=n[7]/e.z,t[8]=n[8]/e.z,t},g.multiply=function(n,t,e){const r=n[0]*t[0]+n[3]*t[1]+n[6]*t[2],u=n[1]*t[0]+n[4]*t[1]+n[7]*t[2],a=n[2]*t[0]+n[5]*t[1]+n[8]*t[2],o=n[0]*t[3]+n[3]*t[4]+n[6]*t[5],i=n[1]*t[3]+n[4]*t[4]+n[7]*t[5],c=n[2]*t[3]+n[5]*t[4]+n[8]*t[5],s=n[0]*t[6]+n[3]*t[7]+n[6]*t[8],l=n[1]*t[6]+n[4]*t[7]+n[7]*t[8],f=n[2]*t[6]+n[5]*t[7]+n[8]*t[8];return e[0]=r,e[1]=u,e[2]=a,e[3]=o,e[4]=i,e[5]=c,e[6]=s,e[7]=l,e[8]=f,e},g.add=function(n,t,e){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e[4]=n[4]+t[4],e[5]=n[5]+t[5],e[6]=n[6]+t[6],e[7]=n[7]+t[7],e[8]=n[8]+t[8],e},g.subtract=function(n,t,e){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e[4]=n[4]-t[4],e[5]=n[5]-t[5],e[6]=n[6]-t[6],e[7]=n[7]-t[7],e[8]=n[8]-t[8],e},g.multiplyByVector=function(n,t,e){const r=t.x,u=t.y,a=t.z,o=n[0]*r+n[3]*u+n[6]*a,i=n[1]*r+n[4]*u+n[7]*a,c=n[2]*r+n[5]*u+n[8]*a;return e.x=o,e.y=i,e.z=c,e},g.multiplyByScalar=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e},g.multiplyByScale=function(n,t,e){return e[0]=n[0]*t.x,e[1]=n[1]*t.x,e[2]=n[2]*t.x,e[3]=n[3]*t.y,e[4]=n[4]*t.y,e[5]=n[5]*t.y,e[6]=n[6]*t.z,e[7]=n[7]*t.z,e[8]=n[8]*t.z,e},g.multiplyByUniformScale=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e},g.negate=function(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t},g.transpose=function(n,t){const e=n[0],r=n[3],u=n[6],a=n[1],o=n[4],i=n[7],c=n[2],s=n[5],l=n[8];return t[0]=e,t[1]=r,t[2]=u,t[3]=a,t[4]=o,t[5]=i,t[6]=c,t[7]=s,t[8]=l,t};const V=[1,0,0],N=[2,2,1];function q(n){let t=0;for(let e=0;e<3;++e){const r=n[g.getElementIndex(N[e],V[e])];t+=2*r*r}return Math.sqrt(t)}function A(n,t){const e=r.CesiumMath.EPSILON15;let u=0,a=1;for(let t=0;t<3;++t){const e=Math.abs(n[g.getElementIndex(N[t],V[t])]);e>u&&(a=t,u=e)}let o=1,i=0;const c=V[a],s=N[a];if(Math.abs(n[g.getElementIndex(s,c)])>e){const t=(n[g.getElementIndex(s,s)]-n[g.getElementIndex(c,c)])/2/n[g.getElementIndex(s,c)];let e;e=t<0?-1/(-t+Math.sqrt(1+t*t)):1/(t+Math.sqrt(1+t*t)),o=1/Math.sqrt(1+e*e),i=e*o}return(t=g.clone(g.IDENTITY,t))[g.getElementIndex(c,c)]=t[g.getElementIndex(s,s)]=o,t[g.getElementIndex(s,c)]=i,t[g.getElementIndex(c,s)]=-i,t}const U=new g,I=new g;g.computeEigenDecomposition=function(n,t){const u=r.CesiumMath.EPSILON20;let a=0,o=0;e.defined(t)||(t={});const i=t.unitary=g.clone(g.IDENTITY,t.unitary),c=t.diagonal=g.clone(n,t.diagonal),s=u*function(n){let t=0;for(let e=0;e<9;++e){const r=n[e];t+=r*r}return Math.sqrt(t)}(c);for(;o<10&&q(c)>s;)A(c,U),g.transpose(U,I),g.multiply(c,U,c),g.multiply(I,c,c),g.multiply(i,U,i),++a>2&&(++o,a=0);return t},g.abs=function(n,t){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t[3]=Math.abs(n[3]),t[4]=Math.abs(n[4]),t[5]=Math.abs(n[5]),t[6]=Math.abs(n[6]),t[7]=Math.abs(n[7]),t[8]=Math.abs(n[8]),t},g.determinant=function(n){const t=n[0],e=n[3],r=n[6],u=n[1],a=n[4],o=n[7],i=n[2],c=n[5],s=n[8];return t*(a*s-c*o)+u*(c*r-e*s)+i*(e*o-a*r)},g.inverse=function(n,t){const e=n[0],r=n[1],u=n[2],a=n[3],o=n[4],i=n[5],c=n[6],s=n[7],l=n[8],f=g.determinant(n);t[0]=o*l-s*i,t[1]=s*u-r*l,t[2]=r*i-o*u,t[3]=c*i-a*l,t[4]=e*l-c*u,t[5]=a*u-e*i,t[6]=a*s-c*o,t[7]=c*r-e*s,t[8]=e*o-a*r;const y=1/f;return g.multiplyByScalar(t,y,t)};const T=new g;function k(n,t,r,u,a,o,i,c,s,l,f,y,d,h,m,x){this[0]=e.defaultValue(n,0),this[1]=e.defaultValue(a,0),this[2]=e.defaultValue(s,0),this[3]=e.defaultValue(d,0),this[4]=e.defaultValue(t,0),this[5]=e.defaultValue(o,0),this[6]=e.defaultValue(l,0),this[7]=e.defaultValue(h,0),this[8]=e.defaultValue(r,0),this[9]=e.defaultValue(i,0),this[10]=e.defaultValue(f,0),this[11]=e.defaultValue(m,0),this[12]=e.defaultValue(u,0),this[13]=e.defaultValue(c,0),this[14]=e.defaultValue(y,0),this[15]=e.defaultValue(x,0)}g.inverseTranspose=function(n,t){return g.inverse(g.transpose(n,T),t)},g.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[3]===t[3]&&n[4]===t[4]&&n[5]===t[5]&&n[6]===t[6]&&n[7]===t[7]&&n[8]===t[8]},g.equalsEpsilon=function(n,t,r){return r=e.defaultValue(r,0),n===t||e.defined(n)&&e.defined(t)&&Math.abs(n[0]-t[0])<=r&&Math.abs(n[1]-t[1])<=r&&Math.abs(n[2]-t[2])<=r&&Math.abs(n[3]-t[3])<=r&&Math.abs(n[4]-t[4])<=r&&Math.abs(n[5]-t[5])<=r&&Math.abs(n[6]-t[6])<=r&&Math.abs(n[7]-t[7])<=r&&Math.abs(n[8]-t[8])<=r},g.IDENTITY=Object.freeze(new g(1,0,0,0,1,0,0,0,1)),g.ZERO=Object.freeze(new g(0,0,0,0,0,0,0,0,0)),g.COLUMN0ROW0=0,g.COLUMN0ROW1=1,g.COLUMN0ROW2=2,g.COLUMN1ROW0=3,g.COLUMN1ROW1=4,g.COLUMN1ROW2=5,g.COLUMN2ROW0=6,g.COLUMN2ROW1=7,g.COLUMN2ROW2=8,Object.defineProperties(g.prototype,{length:{get:function(){return g.packedLength}}}),g.prototype.clone=function(n){return g.clone(this,n)},g.prototype.equals=function(n){return g.equals(this,n)},g.equalsArray=function(n,t,e){return n[0]===t[e]&&n[1]===t[e+1]&&n[2]===t[e+2]&&n[3]===t[e+3]&&n[4]===t[e+4]&&n[5]===t[e+5]&&n[6]===t[e+6]&&n[7]===t[e+7]&&n[8]===t[e+8]},g.prototype.equalsEpsilon=function(n,t){return g.equalsEpsilon(this,n,t)},g.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})\n(${this[1]}, ${this[4]}, ${this[7]})\n(${this[2]}, ${this[5]}, ${this[8]})`},k.packedLength=16,k.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n[0],t[r++]=n[1],t[r++]=n[2],t[r++]=n[3],t[r++]=n[4],t[r++]=n[5],t[r++]=n[6],t[r++]=n[7],t[r++]=n[8],t[r++]=n[9],t[r++]=n[10],t[r++]=n[11],t[r++]=n[12],t[r++]=n[13],t[r++]=n[14],t[r]=n[15],t},k.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new k),r[0]=n[t++],r[1]=n[t++],r[2]=n[t++],r[3]=n[t++],r[4]=n[t++],r[5]=n[t++],r[6]=n[t++],r[7]=n[t++],r[8]=n[t++],r[9]=n[t++],r[10]=n[t++],r[11]=n[t++],r[12]=n[t++],r[13]=n[t++],r[14]=n[t++],r[15]=n[t],r},k.packArray=function(n,t){const r=n.length,u=16*r;e.defined(t)?(Array.isArray(t)||t.length===u)&&t.length!==u&&(t.length=u):t=new Array(u);for(let e=0;e<r;++e)k.pack(n[e],t,16*e);return t},k.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/16:t=new Array(r/16);for(let e=0;e<r;e+=16){const r=e/16;t[r]=k.unpack(n,e,t[r])}return t},k.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t):new k(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15])},k.fromArray=k.unpack,k.fromColumnMajorArray=function(n,t){return k.clone(n,t)},k.fromRowMajorArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15],t):new k(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])},k.fromRotationTranslation=function(n,t,r){return t=e.defaultValue(t,u.ZERO),e.defined(r)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=0,r[4]=n[3],r[5]=n[4],r[6]=n[5],r[7]=0,r[8]=n[6],r[9]=n[7],r[10]=n[8],r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,r):new k(n[0],n[3],n[6],t.x,n[1],n[4],n[7],t.y,n[2],n[5],n[8],t.z,0,0,0,1)},k.fromTranslationQuaternionRotationScale=function(n,t,r,u){e.defined(u)||(u=new k);const a=r.x,o=r.y,i=r.z,c=t.x*t.x,s=t.x*t.y,l=t.x*t.z,f=t.x*t.w,y=t.y*t.y,d=t.y*t.z,h=t.y*t.w,m=t.z*t.z,x=t.z*t.w,z=t.w*t.w,w=c-y-m+z,p=2*(s-x),M=2*(l+h),g=2*(s+x),b=-c+y-m+z,O=2*(d-f),C=2*(l-h),E=2*(d+f),R=-c-y+m+z;return u[0]=w*a,u[1]=g*a,u[2]=C*a,u[3]=0,u[4]=p*o,u[5]=b*o,u[6]=E*o,u[7]=0,u[8]=M*i,u[9]=O*i,u[10]=R*i,u[11]=0,u[12]=n.x,u[13]=n.y,u[14]=n.z,u[15]=1,u},k.fromTranslationRotationScale=function(n,t){return k.fromTranslationQuaternionRotationScale(n.translation,n.rotation,n.scale,t)},k.fromTranslation=function(n,t){return k.fromRotationTranslation(g.IDENTITY,n,t)},k.fromScale=function(n,t){return e.defined(t)?(t[0]=n.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new k(n.x,0,0,0,0,n.y,0,0,0,0,n.z,0,0,0,0,1)},k.fromUniformScale=function(n,t){return e.defined(t)?(t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new k(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1)},k.fromRotation=function(n,t){return e.defined(t)||(t=new k),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[3],t[5]=n[4],t[6]=n[5],t[7]=0,t[8]=n[6],t[9]=n[7],t[10]=n[8],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};const L=new u,$=new u,B=new u;k.fromCamera=function(n,t){const r=n.position,a=n.direction,o=n.up;u.normalize(a,L),u.normalize(u.cross(L,o,$),$),u.normalize(u.cross($,L,B),B);const i=$.x,c=$.y,s=$.z,l=L.x,f=L.y,y=L.z,d=B.x,h=B.y,m=B.z,x=r.x,z=r.y,w=r.z,p=i*-x+c*-z+s*-w,M=d*-x+h*-z+m*-w,g=l*x+f*z+y*w;return e.defined(t)?(t[0]=i,t[1]=d,t[2]=-l,t[3]=0,t[4]=c,t[5]=h,t[6]=-f,t[7]=0,t[8]=s,t[9]=m,t[10]=-y,t[11]=0,t[12]=p,t[13]=M,t[14]=g,t[15]=1,t):new k(i,c,s,p,d,h,m,M,-l,-f,-y,g,0,0,0,1)},k.computePerspectiveFieldOfView=function(n,t,e,r,u){const a=1/Math.tan(.5*n),o=a/t,i=(r+e)/(e-r),c=2*r*e/(e-r);return u[0]=o,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=a,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=i,u[11]=-1,u[12]=0,u[13]=0,u[14]=c,u[15]=0,u},k.computeOrthographicOffCenter=function(n,t,e,r,u,a,o){let i=1/(t-n),c=1/(r-e),s=1/(a-u);const l=-(t+n)*i,f=-(r+e)*c,y=-(a+u)*s;return i*=2,c*=2,s*=-2,o[0]=i,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=c,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=s,o[11]=0,o[12]=l,o[13]=f,o[14]=y,o[15]=1,o},k.computePerspectiveOffCenter=function(n,t,e,r,u,a,o){const i=2*u/(t-n),c=2*u/(r-e),s=(t+n)/(t-n),l=(r+e)/(r-e),f=-(a+u)/(a-u),y=-2*a*u/(a-u);return o[0]=i,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=c,o[6]=0,o[7]=0,o[8]=s,o[9]=l,o[10]=f,o[11]=-1,o[12]=0,o[13]=0,o[14]=y,o[15]=0,o},k.computeInfinitePerspectiveOffCenter=function(n,t,e,r,u,a){const o=2*u/(t-n),i=2*u/(r-e),c=(t+n)/(t-n),s=(r+e)/(r-e),l=-2*u;return a[0]=o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i,a[6]=0,a[7]=0,a[8]=c,a[9]=s,a[10]=-1,a[11]=-1,a[12]=0,a[13]=0,a[14]=l,a[15]=0,a},k.computeViewportTransformation=function(n,t,r,u){e.defined(u)||(u=new k),n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT);const a=e.defaultValue(n.x,0),o=e.defaultValue(n.y,0),i=e.defaultValue(n.width,0),c=e.defaultValue(n.height,0);t=e.defaultValue(t,0);const s=.5*i,l=.5*c,f=.5*((r=e.defaultValue(r,1))-t),y=s,d=l,h=f,m=a+s,x=o+l,z=t+f;return u[0]=y,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=d,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=h,u[11]=0,u[12]=m,u[13]=x,u[14]=z,u[15]=1,u},k.computeView=function(n,t,e,r,a){return a[0]=r.x,a[1]=e.x,a[2]=-t.x,a[3]=0,a[4]=r.y,a[5]=e.y,a[6]=-t.y,a[7]=0,a[8]=r.z,a[9]=e.z,a[10]=-t.z,a[11]=0,a[12]=-u.dot(r,n),a[13]=-u.dot(e,n),a[14]=u.dot(t,n),a[15]=1,a},k.toArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]},k.getElementIndex=function(n,t){return 4*n+t},k.getColumn=function(n,t,e){const r=4*t,u=n[r],a=n[r+1],o=n[r+2],i=n[r+3];return e.x=u,e.y=a,e.z=o,e.w=i,e},k.setColumn=function(n,t,e,r){const u=4*t;return(r=k.clone(n,r))[u]=e.x,r[u+1]=e.y,r[u+2]=e.z,r[u+3]=e.w,r},k.getRow=function(n,t,e){const r=n[t],u=n[t+4],a=n[t+8],o=n[t+12];return e.x=r,e.y=u,e.z=a,e.w=o,e},k.setRow=function(n,t,e,r){return(r=k.clone(n,r))[t]=e.x,r[t+4]=e.y,r[t+8]=e.z,r[t+12]=e.w,r},k.setTranslation=function(n,t,e){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=t.x,e[13]=t.y,e[14]=t.z,e[15]=n[15],e};const W=new u;k.setScale=function(n,t,e){const r=k.getScale(n,W),u=t.x/r.x,a=t.y/r.y,o=t.z/r.z;return e[0]=n[0]*u,e[1]=n[1]*u,e[2]=n[2]*u,e[3]=n[3],e[4]=n[4]*a,e[5]=n[5]*a,e[6]=n[6]*a,e[7]=n[7],e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const j=new u;k.setUniformScale=function(n,t,e){const r=k.getScale(n,j),u=t/r.x,a=t/r.y,o=t/r.z;return e[0]=n[0]*u,e[1]=n[1]*u,e[2]=n[2]*u,e[3]=n[3],e[4]=n[4]*a,e[5]=n[5]*a,e[6]=n[6]*a,e[7]=n[7],e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const _=new u;k.getScale=function(n,t){return t.x=u.magnitude(u.fromElements(n[0],n[1],n[2],_)),t.y=u.magnitude(u.fromElements(n[4],n[5],n[6],_)),t.z=u.magnitude(u.fromElements(n[8],n[9],n[10],_)),t};const v=new u;k.getMaximumScale=function(n){return k.getScale(n,v),u.maximumComponent(v)};const P=new u;k.setRotation=function(n,t,e){const r=k.getScale(n,P);return e[0]=t[0]*r.x,e[1]=t[1]*r.x,e[2]=t[2]*r.x,e[3]=n[3],e[4]=t[3]*r.y,e[5]=t[4]*r.y,e[6]=t[5]*r.y,e[7]=n[7],e[8]=t[6]*r.z,e[9]=t[7]*r.z,e[10]=t[8]*r.z,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const Z=new u;k.getRotation=function(n,t){const e=k.getScale(n,Z);return t[0]=n[0]/e.x,t[1]=n[1]/e.x,t[2]=n[2]/e.x,t[3]=n[4]/e.y,t[4]=n[5]/e.y,t[5]=n[6]/e.y,t[6]=n[8]/e.z,t[7]=n[9]/e.z,t[8]=n[10]/e.z,t},k.multiply=function(n,t,e){const r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],s=n[6],l=n[7],f=n[8],y=n[9],d=n[10],h=n[11],m=n[12],x=n[13],z=n[14],w=n[15],p=t[0],M=t[1],g=t[2],b=t[3],O=t[4],C=t[5],E=t[6],R=t[7],S=t[8],V=t[9],N=t[10],q=t[11],A=t[12],U=t[13],I=t[14],T=t[15],k=r*p+i*M+f*g+m*b,L=u*p+c*M+y*g+x*b,$=a*p+s*M+d*g+z*b,B=o*p+l*M+h*g+w*b,W=r*O+i*C+f*E+m*R,j=u*O+c*C+y*E+x*R,_=a*O+s*C+d*E+z*R,v=o*O+l*C+h*E+w*R,P=r*S+i*V+f*N+m*q,Z=u*S+c*V+y*N+x*q,D=a*S+s*V+d*N+z*q,Y=o*S+l*V+h*N+w*q,X=r*A+i*U+f*I+m*T,F=u*A+c*U+y*I+x*T,H=a*A+s*U+d*I+z*T,Q=o*A+l*U+h*I+w*T;return e[0]=k,e[1]=L,e[2]=$,e[3]=B,e[4]=W,e[5]=j,e[6]=_,e[7]=v,e[8]=P,e[9]=Z,e[10]=D,e[11]=Y,e[12]=X,e[13]=F,e[14]=H,e[15]=Q,e},k.add=function(n,t,e){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e[4]=n[4]+t[4],e[5]=n[5]+t[5],e[6]=n[6]+t[6],e[7]=n[7]+t[7],e[8]=n[8]+t[8],e[9]=n[9]+t[9],e[10]=n[10]+t[10],e[11]=n[11]+t[11],e[12]=n[12]+t[12],e[13]=n[13]+t[13],e[14]=n[14]+t[14],e[15]=n[15]+t[15],e},k.subtract=function(n,t,e){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e[4]=n[4]-t[4],e[5]=n[5]-t[5],e[6]=n[6]-t[6],e[7]=n[7]-t[7],e[8]=n[8]-t[8],e[9]=n[9]-t[9],e[10]=n[10]-t[10],e[11]=n[11]-t[11],e[12]=n[12]-t[12],e[13]=n[13]-t[13],e[14]=n[14]-t[14],e[15]=n[15]-t[15],e},k.multiplyTransformation=function(n,t,e){const r=n[0],u=n[1],a=n[2],o=n[4],i=n[5],c=n[6],s=n[8],l=n[9],f=n[10],y=n[12],d=n[13],h=n[14],m=t[0],x=t[1],z=t[2],w=t[4],p=t[5],M=t[6],g=t[8],b=t[9],O=t[10],C=t[12],E=t[13],R=t[14],S=r*m+o*x+s*z,V=u*m+i*x+l*z,N=a*m+c*x+f*z,q=r*w+o*p+s*M,A=u*w+i*p+l*M,U=a*w+c*p+f*M,I=r*g+o*b+s*O,T=u*g+i*b+l*O,k=a*g+c*b+f*O,L=r*C+o*E+s*R+y,$=u*C+i*E+l*R+d,B=a*C+c*E+f*R+h;return e[0]=S,e[1]=V,e[2]=N,e[3]=0,e[4]=q,e[5]=A,e[6]=U,e[7]=0,e[8]=I,e[9]=T,e[10]=k,e[11]=0,e[12]=L,e[13]=$,e[14]=B,e[15]=1,e},k.multiplyByMatrix3=function(n,t,e){const r=n[0],u=n[1],a=n[2],o=n[4],i=n[5],c=n[6],s=n[8],l=n[9],f=n[10],y=t[0],d=t[1],h=t[2],m=t[3],x=t[4],z=t[5],w=t[6],p=t[7],M=t[8],g=r*y+o*d+s*h,b=u*y+i*d+l*h,O=a*y+c*d+f*h,C=r*m+o*x+s*z,E=u*m+i*x+l*z,R=a*m+c*x+f*z,S=r*w+o*p+s*M,V=u*w+i*p+l*M,N=a*w+c*p+f*M;return e[0]=g,e[1]=b,e[2]=O,e[3]=0,e[4]=C,e[5]=E,e[6]=R,e[7]=0,e[8]=S,e[9]=V,e[10]=N,e[11]=0,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},k.multiplyByTranslation=function(n,t,e){const r=t.x,u=t.y,a=t.z,o=r*n[0]+u*n[4]+a*n[8]+n[12],i=r*n[1]+u*n[5]+a*n[9]+n[13],c=r*n[2]+u*n[6]+a*n[10]+n[14];return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=o,e[13]=i,e[14]=c,e[15]=n[15],e},k.multiplyByScale=function(n,t,e){const r=t.x,u=t.y,a=t.z;return 1===r&&1===u&&1===a?k.clone(n,e):(e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=n[3],e[4]=u*n[4],e[5]=u*n[5],e[6]=u*n[6],e[7]=n[7],e[8]=a*n[8],e[9]=a*n[9],e[10]=a*n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e)},k.multiplyByUniformScale=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3],e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7],e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},k.multiplyByVector=function(n,t,e){const r=t.x,u=t.y,a=t.z,o=t.w,i=n[0]*r+n[4]*u+n[8]*a+n[12]*o,c=n[1]*r+n[5]*u+n[9]*a+n[13]*o,s=n[2]*r+n[6]*u+n[10]*a+n[14]*o,l=n[3]*r+n[7]*u+n[11]*a+n[15]*o;return e.x=i,e.y=c,e.z=s,e.w=l,e},k.multiplyByPointAsVector=function(n,t,e){const r=t.x,u=t.y,a=t.z,o=n[0]*r+n[4]*u+n[8]*a,i=n[1]*r+n[5]*u+n[9]*a,c=n[2]*r+n[6]*u+n[10]*a;return e.x=o,e.y=i,e.z=c,e},k.multiplyByPoint=function(n,t,e){const r=t.x,u=t.y,a=t.z,o=n[0]*r+n[4]*u+n[8]*a+n[12],i=n[1]*r+n[5]*u+n[9]*a+n[13],c=n[2]*r+n[6]*u+n[10]*a+n[14];return e.x=o,e.y=i,e.z=c,e},k.multiplyByScalar=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=n[11]*t,e[12]=n[12]*t,e[13]=n[13]*t,e[14]=n[14]*t,e[15]=n[15]*t,e},k.negate=function(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t},k.transpose=function(n,t){const e=n[1],r=n[2],u=n[3],a=n[6],o=n[7],i=n[11];return t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=a,t[10]=n[10],t[11]=n[14],t[12]=u,t[13]=o,t[14]=i,t[15]=n[15],t},k.abs=function(n,t){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t[3]=Math.abs(n[3]),t[4]=Math.abs(n[4]),t[5]=Math.abs(n[5]),t[6]=Math.abs(n[6]),t[7]=Math.abs(n[7]),t[8]=Math.abs(n[8]),t[9]=Math.abs(n[9]),t[10]=Math.abs(n[10]),t[11]=Math.abs(n[11]),t[12]=Math.abs(n[12]),t[13]=Math.abs(n[13]),t[14]=Math.abs(n[14]),t[15]=Math.abs(n[15]),t},k.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n[12]===t[12]&&n[13]===t[13]&&n[14]===t[14]&&n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[4]===t[4]&&n[5]===t[5]&&n[6]===t[6]&&n[8]===t[8]&&n[9]===t[9]&&n[10]===t[10]&&n[3]===t[3]&&n[7]===t[7]&&n[11]===t[11]&&n[15]===t[15]},k.equalsEpsilon=function(n,t,r){return r=e.defaultValue(r,0),n===t||e.defined(n)&&e.defined(t)&&Math.abs(n[0]-t[0])<=r&&Math.abs(n[1]-t[1])<=r&&Math.abs(n[2]-t[2])<=r&&Math.abs(n[3]-t[3])<=r&&Math.abs(n[4]-t[4])<=r&&Math.abs(n[5]-t[5])<=r&&Math.abs(n[6]-t[6])<=r&&Math.abs(n[7]-t[7])<=r&&Math.abs(n[8]-t[8])<=r&&Math.abs(n[9]-t[9])<=r&&Math.abs(n[10]-t[10])<=r&&Math.abs(n[11]-t[11])<=r&&Math.abs(n[12]-t[12])<=r&&Math.abs(n[13]-t[13])<=r&&Math.abs(n[14]-t[14])<=r&&Math.abs(n[15]-t[15])<=r},k.getTranslation=function(n,t){return t.x=n[12],t.y=n[13],t.z=n[14],t},k.getMatrix3=function(n,t){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t};const D=new g,Y=new g,X=new d,F=new d(0,0,0,1);k.inverse=function(n,e){const u=n[0],a=n[4],o=n[8],i=n[12],c=n[1],s=n[5],l=n[9],f=n[13],y=n[2],h=n[6],m=n[10],x=n[14],z=n[3],w=n[7],p=n[11],M=n[15];let b=m*M,O=x*p,C=h*M,E=x*w,R=h*p,S=m*w,V=y*M,N=x*z,q=y*p,A=m*z,U=y*w,I=h*z;const T=b*s+E*l+R*f-(O*s+C*l+S*f),L=O*c+V*l+A*f-(b*c+N*l+q*f),$=C*c+N*s+U*f-(E*c+V*s+I*f),B=S*c+q*s+I*l-(R*c+A*s+U*l),W=O*a+C*o+S*i-(b*a+E*o+R*i),j=b*u+N*o+q*i-(O*u+V*o+A*i),_=E*u+V*a+I*i-(C*u+N*a+U*i),v=R*u+A*a+U*o-(S*u+q*a+I*o);b=o*f,O=i*l,C=a*f,E=i*s,R=a*l,S=o*s,V=u*f,N=i*c,q=u*l,A=o*c,U=u*s,I=a*c;const P=b*w+E*p+R*M-(O*w+C*p+S*M),Z=O*z+V*p+A*M-(b*z+N*p+q*M),H=C*z+N*w+U*M-(E*z+V*w+I*M),Q=S*z+q*w+I*p-(R*z+A*w+U*p),J=C*m+S*x+O*h-(R*x+b*h+E*m),G=q*x+b*y+N*m-(V*m+A*x+O*y),K=V*h+I*x+E*y-(U*x+C*y+N*h),nn=U*m+R*y+A*h-(q*h+I*m+S*y);let tn=u*T+a*L+o*$+i*B;if(Math.abs(tn)<r.CesiumMath.EPSILON21){if(g.equalsEpsilon(k.getMatrix3(n,D),Y,r.CesiumMath.EPSILON7)&&d.equals(k.getRow(n,3,X),F))return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=-n[12],e[13]=-n[13],e[14]=-n[14],e[15]=1,e;throw new t.RuntimeError("matrix is not invertible because its determinate is zero.")}return tn=1/tn,e[0]=T*tn,e[1]=L*tn,e[2]=$*tn,e[3]=B*tn,e[4]=W*tn,e[5]=j*tn,e[6]=_*tn,e[7]=v*tn,e[8]=P*tn,e[9]=Z*tn,e[10]=H*tn,e[11]=Q*tn,e[12]=J*tn,e[13]=G*tn,e[14]=K*tn,e[15]=nn*tn,e},k.inverseTransformation=function(n,t){const e=n[0],r=n[1],u=n[2],a=n[4],o=n[5],i=n[6],c=n[8],s=n[9],l=n[10],f=n[12],y=n[13],d=n[14],h=-e*f-r*y-u*d,m=-a*f-o*y-i*d,x=-c*f-s*y-l*d;return t[0]=e,t[1]=a,t[2]=c,t[3]=0,t[4]=r,t[5]=o,t[6]=s,t[7]=0,t[8]=u,t[9]=i,t[10]=l,t[11]=0,t[12]=h,t[13]=m,t[14]=x,t[15]=1,t};const H=new k;k.inverseTranspose=function(n,t){return k.inverse(k.transpose(n,H),t)},k.IDENTITY=Object.freeze(new k(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),k.ZERO=Object.freeze(new k(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),k.COLUMN0ROW0=0,k.COLUMN0ROW1=1,k.COLUMN0ROW2=2,k.COLUMN0ROW3=3,k.COLUMN1ROW0=4,k.COLUMN1ROW1=5,k.COLUMN1ROW2=6,k.COLUMN1ROW3=7,k.COLUMN2ROW0=8,k.COLUMN2ROW1=9,k.COLUMN2ROW2=10,k.COLUMN2ROW3=11,k.COLUMN3ROW0=12,k.COLUMN3ROW1=13,k.COLUMN3ROW2=14,k.COLUMN3ROW3=15,Object.defineProperties(k.prototype,{length:{get:function(){return k.packedLength}}}),k.prototype.clone=function(n){return k.clone(this,n)},k.prototype.equals=function(n){return k.equals(this,n)},k.equalsArray=function(n,t,e){return n[0]===t[e]&&n[1]===t[e+1]&&n[2]===t[e+2]&&n[3]===t[e+3]&&n[4]===t[e+4]&&n[5]===t[e+5]&&n[6]===t[e+6]&&n[7]===t[e+7]&&n[8]===t[e+8]&&n[9]===t[e+9]&&n[10]===t[e+10]&&n[11]===t[e+11]&&n[12]===t[e+12]&&n[13]===t[e+13]&&n[14]===t[e+14]&&n[15]===t[e+15]},k.prototype.equalsEpsilon=function(n,t){return k.equalsEpsilon(this,n,t)},k.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})\n(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})\n(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})\n(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`},n.Cartesian3=u,n.Cartesian4=d,n.Matrix3=g,n.Matrix4=k}));
