define(["./Matrix4-3b2c0630","./createTaskProcessorWorker","./RuntimeError-8952249c","./defaultValue-81eec7ed","./Math-c2b1b304"],(function(e,t,a,r,n){"use strict";return t((function(t){const a=t.modelKey,r=t.featuresLength,n=t.stepval,s=t.content,i=t.HistoricalHierarchicalValue,o=t.modelCenterPOS,c=e.Cartesian3.unpack(o),l=t.featureMap,f=new Map;for(let t=0;t<r;t++)for(let a=0;a<l.length;a++)if(l[a].glids.length>0){if(-1!==l[a].glids.indexOf(s.name[t])){const r=new e.Matrix4;let s=0;for(let e=0;e<a;e++)s+=1*(l[e].box[5]-l[e].box[2]);let o=0;o=i?n+i===0?0:n<0?-((a+1)*(Math.abs(n)+i)+s):(a+1)*(Math.abs(n)+i)+s:n<0?-((a+1)*Math.abs(n)+s):(a+1)*Math.abs(n)+s;const u=e.Cartesian3.subtract(new e.Cartesian3(0,0,o),c,new e.Cartesian3);e.Matrix4.fromTranslation(u,r),f.set(t,r);break}}const u={};return u.modelKey=a,u.batchsMap=f,u}))}));
