define(["exports","./arrayRemoveDuplicates-4bbe2c1f","./Matrix4-3b2c0630","./Ellipsoid-119327cb","./defaultValue-81eec7ed","./Math-c2b1b304","./PolylinePipeline-cfd2c1cf"],(function(e,t,i,n,o,r,s){"use strict";const a={};function l(e,t){return r.CesiumMath.equalsEpsilon(e.latitude,t.latitude,r.CesiumMath.EPSILON10)&&r.CesiumMath.equalsEpsilon(e.longitude,t.longitude,r.CesiumMath.EPSILON10)}const h=new n.Cartographic,c=new n.Cartographic;const g=new Array(2),u=new Array(2),p={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};a.computePositions=function(e,a,d,y,f,m){const P=function(e,r,s,a){const g=(r=t.arrayRemoveDuplicates(r,i.Cartesian3.equalsEpsilon)).length;if(g<2)return;const u=o.defined(a),p=o.defined(s),d=new Array(g),y=new Array(g),f=new Array(g),m=r[0];d[0]=m;const P=e.cartesianToCartographic(m,h);p&&(P.height=s[0]),y[0]=P.height,f[0]=u?a[0]:0;let A=y[0]===f[0],C=1;for(let t=1;t<g;++t){const i=r[t],o=e.cartesianToCartographic(i,c);p&&(o.height=s[t]),A=A&&0===o.height,l(P,o)?P.height<o.height&&(y[C-1]=o.height):(d[C]=i,y[C]=o.height,f[C]=u?a[t]:0,A=A&&y[C]===f[C],n.Cartographic.clone(o,P),++C)}return A||C<2?void 0:(d.length=C,y.length=C,f.length=C,{positions:d,topHeights:y,bottomHeights:f})}(e,a,d,y);if(!o.defined(P))return;a=P.positions,d=P.topHeights,y=P.bottomHeights;const A=a.length,C=A-2;let b,w;const v=r.CesiumMath.chordLength(f,e.maximumRadius),M=p;if(M.minDistance=v,M.ellipsoid=e,m){let e,t=0;for(e=0;e<A-1;e++)t+=s.PolylinePipeline.numberOfPoints(a[e],a[e+1],v)+1;b=new Float64Array(3*t),w=new Float64Array(3*t);const i=g,n=u;M.positions=i,M.height=n;let o=0;for(e=0;e<A-1;e++){i[0]=a[e],i[1]=a[e+1],n[0]=d[e],n[1]=d[e+1];const t=s.PolylinePipeline.generateArc(M);b.set(t,o),n[0]=y[e],n[1]=y[e+1],w.set(s.PolylinePipeline.generateArc(M),o),o+=t.length}}else M.positions=a,M.height=d,b=new Float64Array(s.PolylinePipeline.generateArc(M)),M.height=y,w=new Float64Array(s.PolylinePipeline.generateArc(M));return{bottomPositions:w,topPositions:b,numCorners:C}},e.WallGeometryLibrary=a}));
